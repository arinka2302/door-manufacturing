<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Geologica:wght@100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/styles/reset.css">
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="/styles/header.css">
    <link rel="stylesheet" href="/styles/orders.css">
    <title>Добавление нового заказа</title>
    <link rel="icon" href="/images/logo.webp" type="image/x-icon">
</head>
<body>
    <header>
      <div class="header-container">
        <div class="logo">
          <a href="/"><img src="/images/logo.webp" /></a>
        </div>
        <button class="burger-menu" id="burger-btn">&#9776;</button>
        <nav class="header-menu" id="header-menu">
          <a href="/">
            <h3>Главная</h3>
          </a>
          <a href="/orders">
            <h3>Заказы</h3>
          </a>
          <a href="/courses">
            <h3>Обучение</h3>
          </a>
        </nav>
        <div class="profile">
          <a href="/profile"><img src="/images/user.png" /></a>
          <p>{{user.username}}</p>
        </div>
      </div>
    </header>
    <main class="orders-add">
        <div id="orders-add-container" class="orders-container margin">
            <div class="orders-content">
                <div class="orders-custom-title">
                    <h2>Складской ассортимент</h2>
                    <h4>Заполните все необходимые поля</h4>
                </div>
                <form action="/orders/add" method="post" class="form-edit">
                    <div class="form-edit-item">
                        <label>Выберите дверь</label>
                        <select name="door_id" id="door" required>
                            <option value="">Выберите дверь из ассортимента</option>
                            {{#each doors}}
                            <option value="{{this.id}}" data-material="{{this.Material.name}}"
                                data-width="{{this.width}}" data-height="{{this.height}}"
                                data-thickness="{{this.thickness}}" data-price="{{this.price}}"
                                data-color="{{this.color}}" data-quantity="{{this.quantity}}"
                                data-guarantee="{{this.guarantee}}">
                                <p>{{this.name}}</p>
                            </option>
                            {{/each}}
                        </select>
                        <p>Материал: <span id="door-material">-</span></p>
                        <p>Размер: <span id="door-size">-</span></p>
                        <p>Цена: <span id="door-price">-</span></p>
                        <p>Цвет: <span id="door-color">-</span></p>
                        <p>Количество на складе: <span id="door-quantity">-</span></p>
                        <p>Гарантия: <span id="door-guarantee">-</span></p>
                        <img id="door-img">
                    </div>
                    <div class="form-edit-item">
                        <label>Новый комментарий к заказу</label>
                        <textarea name="comment"
                            placeholder="Напишите комментарий к заказу">{{order.comment}}</textarea>
                    </div>
                    <div class="form-edit-item">
                        <label>Количество дверей в заказе</label>
                        <input type="number" name="quantity" value="{{quantity}}" id="quantity"
                            placeholder="Выберите количество дверей" required>
                    </div>
                    <button type="submit" class="btn-red btn-edit">Создать заказ</button>
                </form>
            </div>
            <div class="orders-content">
                <div class="orders-custom-title">
                    <h2>Индивидуальный заказ</h2>
                    <h4>Заполните все необходимые поля</h4>
                </div>
                <form action="/orders/add" method="post" class="form-edit">
                    <div class="form-edit-item">
                        <label>Выберите материал</label>
                        <select name="material_id" id="material" required>
                            <option value="">Выберите материал двери</option>
                            {{#each materials}}
                            <option value="{{this.id}}" data-unit_price="{{this.unit_price}}">
                                <p>{{this.name}}</p>
                            </option>
                            {{/each}}
                        </select>
                        <div class="form-edit-item">
                            <label>Выберите ширину</label>
                            <input type="number" name="width" id="width" placeholder="600" required>
                        </div>
                        <div class="form-edit-item">
                            <label>Выберите высоту</label>
                            <input type="number" name="height" id="height" placeholder="2000" required>
                        </div>
                        <div class="form-edit-item">
                            <label>Выберите толщину</label>
                            <input type="number" name="thickness" id="thickness" placeholder="40" required>
                        </div>
                        <div class="form-edit-item">
                            <label>Предпочитаемый цвет</label>
                            <input type="text" name="color" placeholder="Графитный" required>
                        </div>
                        <p>Гарантия: 5 лет</p>
                    </div>
                    <div class="form-edit-item">
                        <label>Комментарий к заказу</label>
                        <textarea name="comment"
                            placeholder="Напишите комментарий к заказу">{{order.comment}}</textarea>
                    </div>
                    <div class="form-edit-item">
                        <label>Количество дверей в заказе</label>
                        <input type="number" name="quantity" id="door-custom-quantity" value="1" min="1" placeholder="Выберите количество дверей" required>
                    </div>
                    <div class="form-edit-item">
                        <label>Итоговая цена</label>
                        <input type="number" name="price" id="door-custom-price" readonly>
                    </div>
                    <button type="submit" class="btn-red btn-edit">Создать заказ</button>
                </form>
            </div>
        </div>
    </main>
    <script src="/scripts/burger.js"></script>
    <script src="/scripts/door-select.js"></script>
</body>